<script>
import common from '../mixins/common.js';

import { library } from '@fortawesome/fontawesome-svg-core'
import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'

import { faGear, faBars, faUser } from '@fortawesome/free-solid-svg-icons'
library.add( faGear, faBars, faUser );

import AuthHandler from '../components/AuthHandler';
import EditPersonalInfo from '../components/EditPersonalInfo';

export default {
    name: 'PageProject',
    layout: "no_scroll",
    mixins: [common],
    components: {
        FontAwesomeIcon,
        AuthHandler, EditPersonalInfo,
    },

    data: () => ({
        info_panel_wrapper_class: "close",
    }),

    mounted(){
        this.$store.dispatch('p_display/init', this.$route.params.project_id);
        this.$store.commit('p_display/screen_width', 1920);
        this.$store.commit('p_display/screen_height', 1080);
        this.$store.commit('p_display/settings', {
            latitude_min: 32.0,
            latitude_max: 41.0,
            longitude_min: 150.1628,
            longitude_max: 165.8372,
        });
    },

    methods: {
        async onAuthHandlerResponse(){

        },
    },
}

</script>

<template>
    <div :class="$store.getters.color_mode">
    <div class="min-h-screen bg-white dark:bg-black text-slate-900 dark:text-slate-100">

        <!-- AuthHandler -->
        <AuthHandler ref="auth_handler" @myself="onAuthHandlerResponse" />

        <!-- Test -->
        <div class="flex flex-col">
            <div class="mt-8 mx-auto">
                <button class="btn" @click="$store.commit('color_mode', 'dark');">Dark</button>
                <button class="btn" @click="$store.commit('color_mode', 'normal');">Normal</button>
            </div>
            <div class="mt-8 mx-auto">
                <button class="btn" @click="info_panel_wrapper_class = 'close'">Close</button>
                <button class="btn" @click="info_panel_wrapper_class = 'semi-open'">Semi-open</button>
                <button class="btn" @click="info_panel_wrapper_class = 'open'">Open</button>
            </div>
        </div>

        <!-- Editing Menu (Desktop, Top) -->
        <div class="editing-desktop-top-menu">
            <!-- (In Reversed Direction) -->
            <div class="dropdown dropdown-end">
                <label tabindex="0" class="editing-desktop-menu-btn-1">
                    <font-awesome-icon icon="fa-solid fa-user" />
                    <span class="ml-1">Test User</span>
                </label>
                <ul tabindex="0" class="editing-desktop-menu-dropdown mt-1">
                    <li><a>Item 1</a></li>
                    <li><a>Item 2</a></li>
                </ul>
            </div>
            <button class="editing-desktop-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
            <button class="editing-desktop-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
            <button class="editing-desktop-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
            <button class="editing-desktop-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
            <button class="editing-desktop-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
            <button class="editing-desktop-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
        </div>

        <!-- Editing Menu (Desktop, Bottom) -->
        <div class="editing-desktop-bottom-menu">
            <div class="dropdown dropdown-top">
                <label tabindex="0" class="editing-desktop-menu-btn-2">
                    <font-awesome-icon icon="fa-solid fa-gear" />
                    <span class="ml-1">Test</span>
                </label>
                <ul tabindex="0" class="editing-desktop-menu-dropdown mb-1">
                    <li><a>Item 1</a></li>
                    <li><a>Item 2</a></li>
                </ul>
            </div>
            <button class="editing-desktop-menu-btn-2">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
            <button class="editing-desktop-menu-btn-2">
                <font-awesome-icon icon="fa-solid fa-gear" />
                <span class="ml-1">Test</span>
            </button>
        </div>

        <!-- Editing Menu (Mobile) -->
        <div class="editing-mobile-menu">
            <button class="editing-mobile-menu-btn-1">
                <font-awesome-icon icon="fa-solid fa-bars" />
            </button>
            <button class="editing-mobile-menu-btn-2">
                <font-awesome-icon icon="fa-solid fa-gear" />
            </button>
        </div>
        
        <!-- Info Bar -->
        <div class="info-panel" :class="info_panel_wrapper_class">
            <div class="info-panel-box">
                <div class="info-panel-header">
                    <label class="info-panel-title">
                        Test Header 114514 114514 114514 114514 114514 114514
                    </label>
                    <button class="btn btn-sm">Test</button>
                </div>
                <div class="info-panel-body">
                    <ol>
                        <li v-for="n in 100" :key="n">{{n}}</li>
                    </ol>
                </div>
            </div>
        </div>

        
    </div>
    </div>
</template>